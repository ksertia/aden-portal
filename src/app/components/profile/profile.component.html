<div class="profile-container">
      <div class="profile-header fade-in-up">
        <h1>Profil Utilisateur</h1>
        <p>Gérez vos informations personnelles</p>
      </div>

      <div class="profile-content fade-in-up" *ngIf="user">
        <div class="profile-card">
          <div class="profile-avatar">
            <div class="avatar-circle">
              {{ user.firstName.charAt(0) }}{{ user.lastName.charAt(0) }}
            </div>
            <div class="avatar-info">
              <h2>{{ user.firstName }} {{ user.lastName }}</h2>
              <p class="role">{{ getUserRoleLabel() }}</p>
            </div>
          </div>

          <form (ngSubmit)="updateProfile()" class="profile-form">
            <div class="form-section">
              <h3>Informations personnelles</h3>
              <div class="form-row">
                <div class="form-group">
                  <label for="firstName">Prénom</label>
                  <input
                    type="text"
                    id="firstName"
                    [(ngModel)]="user.firstName"
                    name="firstName"
                    required
                  >
                </div>
                <div class="form-group">
                  <label for="lastName">Nom</label>
                  <input
                    type="text"
                    id="lastName"
                    [(ngModel)]="user.lastName"
                    name="lastName"
                    required
                  >
                </div>
              </div>
              
              <div class="form-group">
                <label for="email">Adresse e-mail</label>
                <input
                  type="email"
                  id="email"
                  [(ngModel)]="user.email"
                  name="email"
                  required
                  disabled
                >
              </div>
              
              <div class="form-group">
                <label for="phone">Téléphone</label>
                <input
                  type="tel"
                  id="phone"
                  [(ngModel)]="user.phone"
                  name="phone"
                >
              </div>
            </div>

            <div class="form-section" *ngIf="user.companyName || user.licenseNumber">
              <h3>Informations professionnelles</h3>
              
              <div class="form-group" *ngIf="user.companyName">
                <label for="companyName">Nom de l'entreprise</label>
                <input
                  type="text"
                  id="companyName"
                  [(ngModel)]="user.companyName"
                  name="companyName"
                >
              </div>
              
              <div class="form-group" *ngIf="user.licenseNumber">
                <label for="licenseNumber">Numéro de licence</label>
                <input
                  type="text"
                  id="licenseNumber"
                  [(ngModel)]="user.licenseNumber"
                  name="licenseNumber"
                >
              </div>
            </div>

            <div class="form-section" *ngIf="user.address">
              <h3>Adresse</h3>
              
              <div class="form-group">
                <label for="street">Rue</label>
                <input
                  type="text"
                  id="street"
                  [(ngModel)]="user.address.street"
                  name="street"
                >
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="city">Ville</label>
                  <input
                    type="text"
                    id="city"
                    [(ngModel)]="user.address.city"
                    name="city"
                  >
                </div>
                <div class="form-group">
                  <label for="postalCode">Code postal</label>
                  <input
                    type="text"
                    id="postalCode"
                    [(ngModel)]="user.address.postalCode"
                    name="postalCode"
                  >
                </div>
              </div>
              
              <div class="form-group">
                <label for="country">Pays</label>
                <input
                  type="text"
                  id="country"
                  [(ngModel)]="user.address.country"
                  name="country"
                >
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary" [disabled]="isUpdating">
                <span *ngIf="!isUpdating">Mettre à jour</span>
                <span *ngIf="isUpdating">Mise à jour...</span>
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="success-message" *ngIf="updateSuccess">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 12l2 2 4-4"/>
          <circle cx="12" cy="12" r="9"/>
        </svg>
        Profil mis à jour avec succès
      </div>
    </div>